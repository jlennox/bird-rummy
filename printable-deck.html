<!DOCTYPE html>
<html>
	<head>
		<script src="out.js"></script>
		<link rel="stylesheet" type="text/css" href="common.css" />
	</head>
	<body></body>

	<script>
        const paperSize = { width: 8.5, height: 11 };
        const cardSize = { width: 2.4, height: 3.4 };
        const cardsToPrint = null; //["French Fries", "Chickadee"];
        const cards = deck
            .filter(card => cardsToPrint == null || cardsToPrint.includes(card.title))
            .sort((a, b) => {
                if (a.type != b.type) return a.type > b.type ? 1 : -1;
                if (a.title != b.title) return a.title > b.title ? 1 : -1;
                return 0;
            });
        const cardsPerWidth = Math.floor(paperSize.width / cardSize.width);
        const cardsPerHeight = Math.floor(paperSize.height / cardSize.height);
        const cardsPerPage = cardsPerWidth * cardsPerHeight;
        const printRunNote = document.createElement("div");
        printRunNote.className = "print-run-note";
        printRunNote.innerText = "alpha 4";
        for (let i = 0; i < cards.length;) {
            const page = document.createElement("div");
            page.className = "page";
            page.style.paddingLeft = ((paperSize.width - cardSize.width * cardsPerWidth) / 2) + "in";
            page.style.paddingTop = ((paperSize.height - cardSize.height * cardsPerHeight) / 2) + "in";
            for (let j = 0; j < cardsPerPage && i < cards.length ;++i, ++j) {
                const card = cards[i]
                const element = card.render();
                element.appendChild(printRunNote.cloneNode(true));
                page.appendChild(element);
            }
            document.body.appendChild(page);
        }
	</script>
</html>
